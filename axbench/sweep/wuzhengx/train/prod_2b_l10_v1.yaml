train:
  model_name: "google/gemma-2-2b-it"
  layer: 10
  component: "res"
  seed: 42
  use_bf16: true
  models:
    # DiffMean:
    #   batch_size: 6
    #   n_epochs: 1
    #   binarize_dataset: true
    #   low_rank_dimension: 1
    # PCA:
    #   batch_size: 6
    #   n_epochs: 1
    #   binarize_dataset: true
    #   low_rank_dimension: 1
    # LAT:
    #   batch_size: 6
    #   n_epochs: 1
    #   binarize_dataset: true
    #   low_rank_dimension: 1
    # SparseLinearProbe:
    #   batch_size: 6
    #   gradient_accumulation_steps: 1
    #   n_epochs: 12
    #   lr: 0.008
    #   topk: 8
    #   coeff_latent_l1_loss: 0.005
    #   coeff_l1_loss: 0.00
    #   coeff_l2_loss: 0.02
    #   binarize_dataset: true
    #   low_rank_dimension: 1
    # LsReFT:
    #   batch_size: 6
    #   gradient_accumulation_steps: 1
    #   n_epochs: 12
    #   lr: 0.008
    #   weight_decay: 0.00
    #   topk: 8
    #   coeff_latent_l1_loss: 0.005
    #   low_rank_dimension: 1
    #   intervention_positions: "all"
    #   intervention_type: "addition" # clamping
    #   binarize_dataset: false
    #   exclude_bos: true
    # SteeringVector:
    #   batch_size: 6
    #   gradient_accumulation_steps: 1
    #   n_epochs: 12
    #   lr: 0.008
    #   weight_decay: 0.00
    #   low_rank_dimension: 1
    #   intervention_positions: "all"
    #   intervention_type: "addition" # clamping
    #   binarize_dataset: false
    #   exclude_bos: true
    # IntegratedGradients:
    #   batch_size: 12
    #   gradient_accumulation_steps: 6
    #   weight_decay: 0.00
    #   n_epochs: 20
    #   lr: 0.0008
    #   binarize_dataset: true
    #   low_rank_dimension: 1
    LoReFT:
      # All hyperparameters are adopted from the original LoReFT paper except the layers since we want to use as little layers as possible.
      batch_size: 18
      gradient_accumulation_steps: 4
      n_epochs: 24
      lr: 0.0009
      weight_decay: 0.00
      low_rank_dimension: 4
      reft_layers: [5, 10, 15, 20]
      reft_positions: "f5+l5"
      reft_type: "Loreft"
      binarize_dataset: false
      exclude_bos: true